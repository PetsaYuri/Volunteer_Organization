<!DOCTYPE html>
<html lang="uk">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/css/bootstrap.min.css">
        <link rel="stylesheet" href="/css/main.css">
        <link rel="shortcun icon" href="/icon/logo.ico">
        <title>Перегляд кандидатів</title>
        <script src="https://use.fontawesome.com/398bb9fadb.js"></script>
    </head>

    <body>
        <th:block th:with="newHeader=${header} + header">
            <header class="navbar-inverse" th:insert="${blocks} + ${newHeader} :: ${newHeader}"></header>
        </th:block>
        <main class="lin1">
            <div class="mt-for-header">
                <div class="mb-2">
                    <a href="/user/csv_candidates" class="btn btn-danger">Експортувати у файл</a>
                </div>
                <div class="text-center mb-3">
                    <form th:action="view_candidates_filter" method="post" class="form-horizontal ml-2"
                        enctype="multipart/form-data" name="form1">
                        <h2>Фільтри по статусу:</h2>
                        <button type="submit" class="btn btn-warning" name="filter" value="waiting">Нові</button>
                        <button type="submit" class="btn btn-danger" name="filter" value="deny">Відмовленні</button>
                        <button type="submit" class="btn btn-success" name="filter" value="accept">Прийняті</button>
                    </form>
                </div>
                <div th:each="candidate : ${candidates}" th:with="ids=${candidate.id} - 1">
                    <div class="container content-lg">
                        <div class="row">
                            <div class="col-sm-5 sm-margin-b-60 mb-2">
                                <img class="full-width img-responsive" th:src="${filePath} + ${candidate.photo}"
                                    th:alt="${filePath} + ${candidate.photo}">
                            </div>
                            <div class="col-sm-7">
                                <div class="section-seperator margin-b-50">
                                    <div class="margin-b-50">
                                        <div class="margin-b-30">
                                            <h2 th:inline="text" class="font-weight-bold">Кандидат №[[${candidate.id}]]
                                            </h2>
                                            <h5 th:inline="text"><b class="font-weight-bold">ПІБ:</b>
                                                [[${candidate.name}]]
                                            </h5>
                                            <h5 th:inline="text"><b class="font-weight-bold">Місце проживання:</b>
                                                [[${candidate.city}]]</h5>
                                            <h5 th:inline="text"><b class="font-weight-bold">Опис:</b>
                                                [[${candidate.description}]]</h5>
                                            <h5 th:inline="text"><b class="font-weight-bold">Зв'язок:</b> <i
                                                    class="fa fa-envelope" aria-hidden="true"></i>
                                                [[${candidate.email}]] або <i class="fa fa-phone"
                                                    aria-hidden="true"></i>
                                                [[${candidate.phone}]]
                                            </h5>
                                            <th:block th:switch="${candidate.status}">
                                                <h5 th:inline="text">
                                                    <h5 th:case="waiting"><b class="font-weight-bold">Статус: </b><b
                                                            class="text-warning">ОЧІКУВАННЯ</b></h5>
                                                    <h5 th:case="deny"><b class="font-weight-bold">Статус: </b><b
                                                            class="text-danger">ВІДМОВЛЕНО</b></h5>
                                                    <h5 th:case="accept"><b class="font-weight-bold">Статус: </b> <b
                                                            class="text-success">ПРИЙНЯТО</b></h5>
                                                </h5>
                                            </th:block>
                                            <th:block th:if="${candidate.activation} != confirmed">
                                                <h5 th:inline="text"><b class="font-weight-bold">Активація:</b>
                                                    <b class="text-danger">Не Підтверджено</b>
                                                </h5>
                                            </th:block>
                                            <th:block th:unless="${candidate.activation} != confirmed">
                                                <h5 th:inline="text"><b class="font-weight-bold">Активація:</b>
                                                    <b class="text-success">Підтверджено</b>
                                                </h5>
                                            </th:block>
                                        </div>
                                        <th:block th:if="${currentRole} == admin">
                                            <form action="view_candidates" method="post" class="form-horizontal"
                                                enctype="multipart/form-data" name="form">
                                                <input type="hidden" name="candidateId" th:value="${candidate.id}">
                                                <input type="hidden" name="currentFilter" th:value="${currentFilter}">
                                                <button type="submit" class="btn btn-danger" name="newStatus"
                                                    value="deny">Відмовити</button>
                                                <button type="submit" class="btn btn-success" name="newStatus"
                                                    value="accept">Прийняти</button>
                                            </form>
                                        </th:block>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <footer class="navbar-inverse" th:insert="blocks\footer :: footer"></footer>
    </body>

</html>